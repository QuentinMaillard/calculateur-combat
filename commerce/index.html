<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GÃ©nÃ©rateur de Bilan Commercial</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 64 64%22><text y=%2252%22 font-size=%2250%22>ğŸª</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <a href="../index.html" class="home-button">
        <span class="home-text">ğŸ  Accueil</span>
        <span class="home-icon">ğŸ </span>
    </a>

    <div class="container">
        <h1>ğŸª GÃ©nÃ©rateur de Bilan Commercial ğŸª</h1>

        <!-- Ã‰tape 1 : Saisie des informations commerciales -->
        <div class="commerce-card" id="step1">
            <div class="commerce-grid">
                
                <!-- Section Village 1 -->
                <div class="commerce-section village1-section">
                    <h2 class="section-title">Village 1 ğŸ˜ï¸</h2>
                    <div class="village-box">
                        <div class="form-group">
                            <label for="village1-nom">Nom du Village <span style="color: #d32f2f;">*</span> :</label>
                            <input type="text" id="village1-nom" placeholder="Nom du village">
                        </div>

                        <h3 class="subsection-title">Ce que donne le Village 1</h3>
                        
                        <div class="resources-simple">
                            <div class="form-group">
                                <label for="village1-donne-materiaux">MatÃ©riaux ğŸ—ï¸ :</label>
                                <input type="number" id="village1-donne-materiaux" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="village1-donne-potions">Potions ğŸ§ª :</label>
                                <input type="number" id="village1-donne-potions" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="village1-donne-argent">Argent ğŸª™ :</label>
                                <input type="number" id="village1-donne-argent" min="0" value="0">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Village 2 -->
                <div class="commerce-section village2-section">
                    <h2 class="section-title">Village 2 ğŸ˜ï¸</h2>
                    <div class="village-box">
                        <div class="form-group">
                            <label for="village2-nom">Nom du Village <span style="color: #d32f2f;">*</span> :</label>
                            <input type="text" id="village2-nom" placeholder="Nom du village">
                        </div>

                        <h3 class="subsection-title">Ce que donne le Village 2</h3>
                        
                        <div class="resources-simple">
                            <div class="form-group">
                                <label for="village2-donne-materiaux">MatÃ©riaux ğŸ—ï¸ :</label>
                                <input type="number" id="village2-donne-materiaux" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="village2-donne-potions">Potions ğŸ§ª :</label>
                                <input type="number" id="village2-donne-potions" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="village2-donne-argent">Argent ğŸª™ :</label>
                                <input type="number" id="village2-donne-argent" min="0" value="0">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Boutons d'action -->
            <div class="button-container">
                <button class="calculate-btn" onclick="validerTransaction()">âœ… Valider la Transaction</button>
                <button class="reset-btn" onclick="reinitialiser()">ğŸ”„ RÃ©initialiser</button>
            </div>
        </div>

        <!-- Ã‰tape 2 : RÃ©sultats -->
        <div class="results-card" id="results" style="display: none;">
            <h2>ğŸ“‹ Bilan de la Transaction Commerciale</h2>
            <div id="results-content"></div>
            <h3 class="result-title">PrÃ©senter ce bilan au MaÃ®tre de Salle</h3>
            <div class="button-container">
                <button class="calculate-btn" onclick="ouvrirBilanMaitre()">ğŸ“‹ Bilan MaÃ®tre de Salle</button>
                <button class="reset-btn" onclick="nouvelleTransaction()">ğŸª Nouvelle Transaction</button>
            </div>
        </div>
    </div>

    <!-- Bouton d'aide en bas Ã  droite -->
    <button id="help-btn" aria-label="Afficher les rÃ¨gles">â“</button>

    <!-- Modale des rÃ¨gles -->
    <div class="modal-overlay" id="rules-modal" style="display: none;">
        <div class="modal-content">
            <button class="modal-close" id="close-rules-modal" aria-label="Fermer">âœ•</button>
            <h2>ğŸ“œ RÃ¨gles du Commerce</h2>
            <div class="modal-scroll">
                <h3>ğŸª Transaction Commerciale</h3>
                <p>Les villages peuvent Ã©changer 3 types de ressources :</p>
                <ul>
                    <li><strong>MatÃ©riaux ğŸ—ï¸ :</strong> Bois, Pierre, Fer, Nourriture...</li>
                    <li><strong>Potions ğŸ§ª :</strong> Toutes les potions magiques</li>
                    <li><strong>Argent ğŸª™ :</strong> PiÃ¨ces d'argent</li>
                </ul>

                <h3>âš–ï¸ Fonctionnement Simple</h3>
                <p>Chaque village indique simplement ce qu'il donne :</p>
                <ul>
                    <li>Village 1 donne ses ressources</li>
                    <li>Village 2 donne ses ressources</li>
                    <li>Le bilan affiche automatiquement les gains/pertes pour chaque village</li>
                </ul>

                <h3>ğŸ“‹ Bilan Final</h3>
                <p>Le bilan rÃ©capitule :</p>
                <ul>
                    <li>Les ressources Ã©changÃ©es entre les villages</li>
                    <li>Le dÃ©tail des gains/pertes pour chaque village</li>
                    <li>La validation de l'Ã©quilibre de la transaction</li>
                </ul>

                <h3>ğŸ¯ Validation</h3>
                <p>Le MaÃ®tre de Salle vÃ©rifie que :</p>
                <ul>
                    <li>Les villages possÃ¨dent bien les ressources Ã  donner</li>
                    <li>L'Ã©change est Ã©quitable et acceptÃ© par les deux parties</li>
                    <li>Aucune erreur dans les quantitÃ©s</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modale du bilan maÃ®tre -->
    <div class="modal-overlay bilan-modal" id="bilan-modal" style="display: none;">
        <div class="modal-content bilan-modal-content">
            <button class="modal-close" id="close-bilan-modal" aria-label="Fermer">âœ•</button>
            <h2>ğŸ“‹ Bilan pour le MaÃ®tre de Salle</h2>
            <div class="modal-scroll" id="bilan-maitre-contenu">
                <!-- Contenu gÃ©nÃ©rÃ© dynamiquement -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>
